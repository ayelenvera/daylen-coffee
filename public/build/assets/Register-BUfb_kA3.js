import{T as N,r as j,c as m,b as q,d as a,w as B,e as R,f as s,u as t,Z as F,j as E,k as M,g as i,i as l,F as U,h as L,t as d,l as b,n as v,p as y}from"./app-BYhsu56_.js";import{_ as O}from"./GuestLayout-CkBOnskT.js";import"./HelpLink-0Gkg05qS.js";const P={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},T={class:"max-w-md w-full space-y-8"},D={key:0,class:"bg-red-50 border border-red-200 rounded-md p-4"},I={class:"text-red-600 text-sm space-y-1"},S={class:"space-y-4"},$={key:0,class:"text-red-500 text-sm mt-1"},A={key:1,class:"text-red-500 text-sm mt-1"},H={key:0,class:"text-red-500 text-sm mt-1"},Y={key:1,class:"text-red-500 text-sm mt-1"},Z={key:0,class:"text-red-500 text-sm mt-1"},G={key:1,class:"text-red-500 text-sm mt-1"},J={key:0,class:"text-red-500 text-sm mt-1"},K={key:1,class:"text-red-500 text-sm mt-1"},Q=["disabled"],W={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3"},te={__name:"Register",setup(X){const e=N({name:"",email:"",password:"",password_confirmation:""}),u=j({}),w=o=>o&&o.length>255?"El nombre no puede exceder los 255 caracteres":null,_=o=>o?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)?null:"Por favor ingresa un correo electrónico válido":null,k=o=>o&&o.length<8?"La contraseña debe tener al menos 8 caracteres":null,h=(o,r)=>r&&o!==r?"Las contraseñas no coinciden":null,c=m(()=>w(e.name)),p=m(()=>_(e.email)),f=m(()=>k(e.password)),g=m(()=>h(e.password,e.password_confirmation)),V=m(()=>!c.value&&!p.value&&!f.value&&!g.value),z=()=>{const o={},r=w(e.name);r&&(o.name=r);const n=_(e.email);n&&(o.email=n);const x=k(e.password);x&&(o.password=x);const C=h(e.password,e.password_confirmation);if(C&&(o.password_confirmation=C),Object.keys(o).length>0){u.value=o;return}u.value={},e.post("/register",{onFinish:()=>e.reset("password","password_confirmation")})};return(o,r)=>(a(),q(O,null,{default:B(()=>[R(t(F),{title:"Registrarse"}),s("div",P,[s("div",T,[r[10]||(r[10]=s("div",null,[s("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Crear Cuenta "),s("p",{class:"mt-2 text-center text-sm text-gray-600"},[E(" O "),s("a",{href:"/login",class:"font-medium text-amber-600 hover:text-amber-500"}," iniciar sesión ")])],-1)),s("form",{class:"mt-8 space-y-6",onSubmit:M(z,["prevent"])},[Object.keys(u.value).length>0?(a(),i("div",D,[s("ul",I,[(a(!0),i(U,null,L(u.value,(n,x)=>(a(),i("li",{key:x},d(n),1))),128))])])):l("",!0),s("div",S,[s("div",null,[r[4]||(r[4]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre completo",-1)),b(s("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=n=>t(e).name=n),type:"text",required:"",class:v(["relative block w-full rounded-md border-0 py-3 text-gray-900 ring-1 ring-inset placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 px-3",c.value||t(e).errors.name?"ring-red-300 focus:ring-red-600":"ring-gray-300 focus:ring-amber-600"]),placeholder:"Ingresa tu nombre completo"},null,2),[[y,t(e).name]]),c.value?(a(),i("p",$,d(c.value),1)):l("",!0),t(e).errors.name?(a(),i("p",A,d(t(e).errors.name),1)):l("",!0)]),s("div",null,[r[5]||(r[5]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},"Correo Electrónico",-1)),b(s("input",{id:"email","onUpdate:modelValue":r[1]||(r[1]=n=>t(e).email=n),type:"email",required:"",class:v(["relative block w-full rounded-md border-0 py-3 text-gray-900 ring-1 ring-inset placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 px-3",p.value||t(e).errors.email?"ring-red-300 focus:ring-red-600":"ring-gray-300 focus:ring-amber-600"]),placeholder:"tu@email.com"},null,2),[[y,t(e).email]]),p.value?(a(),i("p",H,d(p.value),1)):l("",!0),t(e).errors.email?(a(),i("p",Y,d(t(e).errors.email),1)):l("",!0)]),s("div",null,[r[6]||(r[6]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},"Contraseña",-1)),b(s("input",{id:"password","onUpdate:modelValue":r[2]||(r[2]=n=>t(e).password=n),type:"password",required:"",class:v(["relative block w-full rounded-md border-0 py-3 text-gray-900 ring-1 ring-inset placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 px-3",f.value||t(e).errors.password?"ring-red-300 focus:ring-red-600":"ring-gray-300 focus:ring-amber-600"]),placeholder:"Mínimo 8 caracteres"},null,2),[[y,t(e).password]]),f.value?(a(),i("p",Z,d(f.value),1)):l("",!0),t(e).errors.password?(a(),i("p",G,d(t(e).errors.password),1)):l("",!0)]),s("div",null,[r[7]||(r[7]=s("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 mb-1"},"Confirmar Contraseña",-1)),b(s("input",{id:"password_confirmation","onUpdate:modelValue":r[3]||(r[3]=n=>t(e).password_confirmation=n),type:"password",required:"",class:v(["relative block w-full rounded-md border-0 py-3 text-gray-900 ring-1 ring-inset placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 px-3",g.value||t(e).errors.password_confirmation?"ring-red-300 focus:ring-red-600":"ring-gray-300 focus:ring-amber-600"]),placeholder:"Repite tu contraseña"},null,2),[[y,t(e).password_confirmation]]),g.value?(a(),i("p",J,d(g.value),1)):l("",!0),t(e).errors.password_confirmation?(a(),i("p",K,d(t(e).errors.password_confirmation),1)):l("",!0)])]),s("div",null,[s("button",{type:"submit",disabled:t(e).processing||!V.value,class:"group relative flex w-full justify-center rounded-md bg-amber-600 px-3 py-3 text-sm font-semibold text-white hover:bg-amber-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[t(e).processing?(a(),i("span",W,[...r[8]||(r[8]=[s("svg",{class:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):l("",!0),E(" "+d(t(e).processing?"Creando cuenta...":"Crear Cuenta"),1)],8,Q)]),r[9]||(r[9]=s("div",{class:"text-center"},[s("a",{href:"/login",class:"text-sm text-amber-600 hover:text-amber-500 font-medium"}," ¿Ya tienes cuenta? Inicia sesión aquí ")],-1))],32)])])]),_:1}))}};export{te as default};
