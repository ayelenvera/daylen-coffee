import{b as k,d as l,w as o,f as e,I as _,r as y,T as $,e as m,g as f,i as w,u as g,q as v,j as i,t as p,F as C,h as P,n as b}from"./app-BYhsu56_.js";import{_ as D}from"./AppLayout-DazObhux.js";import{_ as N,a as B,D as E}from"./DangerButton-ww12jO4B.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},j={class:"sm:flex sm:items-start"},L={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},F={class:"text-lg leading-6 font-medium text-gray-900"},V={class:"mt-2"},q={class:"text-sm text-gray-500"},I={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},M={__name:"DialogModal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(u,{emit:a}){const n=a,d=()=>{n("close")};return(c,x)=>(l(),k(N,{show:u.show,onClose:d},{default:o(()=>[e("div",S,[e("div",j,[x[0]||(x[0]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",L,[e("h3",F,[_(c.$slots,"title")]),e("div",V,[e("p",q,[_(c.$slots,"content")])])])])]),e("div",I,[_(c.$slots,"footer")])]),_:3},8,["show"]))}},T={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},Y={class:"flex justify-between items-center mb-6"},G={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded"},H={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-gray-200"},K={class:"bg-white divide-y divide-gray-200"},O={class:"px-6 py-4 whitespace-nowrap"},Q={class:"h-16 w-16 overflow-hidden rounded-full"},R=["src","alt"],U={class:"px-6 py-4 whitespace-nowrap"},W={class:"text-sm font-medium text-gray-900"},X={class:"px-6 py-4"},Z={class:"text-sm text-gray-900"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"text-sm text-gray-900"},se={class:"px-6 py-4 whitespace-nowrap"},oe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},re=["onClick"],ie={key:0},me={__name:"Index",props:{products:{type:Array,required:!0}},setup(u){const a=y(!1),n=y(null),d=$({}),c=r=>{n.value=r,a.value=!0},x=()=>{d.delete(route("products.destroy",n.value.id),{preserveScroll:!0,onSuccess:()=>h()})},h=()=>{a.value=!1,n.value=null};return(r,t)=>(l(),k(D,{title:"Productos"},{header:o(()=>[...t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Productos ",-1)])]),default:o(()=>[e("div",T,[e("div",z,[e("div",A,[e("div",Y,[t[2]||(t[2]=e("h3",{class:"text-lg font-medium"},"Lista de Productos",-1)),m(g(v),{href:r.route("products.create"),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},{default:o(()=>[...t[1]||(t[1]=[i(" Nuevo Producto ",-1)])]),_:1},8,["href"])]),r.$page.props.flash.success?(l(),f("div",G,p(r.$page.props.flash.success),1)):w("",!0),e("div",H,[e("table",J,[t[5]||(t[5]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Imagen"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nombre"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Descripción"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Precio"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Stock"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",K,[(l(!0),f(C,null,P(u.products,s=>(l(),f("tr",{key:s.id},[e("td",O,[e("div",Q,[e("img",{src:s.image_url,alt:s.name,class:"h-full w-full object-cover"},null,8,R)])]),e("td",U,[e("div",W,p(s.name),1)]),e("td",X,[e("div",Z,p(s.description||"Sin descripción"),1)]),e("td",ee,[e("div",te,"₲ "+p(Number(s.price||0).toLocaleString("es-PY",{maximumFractionDigits:0})),1)]),e("td",se,[e("span",{class:b({"px-2 inline-flex text-xs leading-5 font-semibold rounded-full":!0,"bg-green-100 text-green-800":s.stock>0,"bg-red-100 text-red-800":s.stock<=0})},p(s.stock),3)]),e("td",oe,[m(g(v),{href:r.route("products.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:o(()=>[...t[3]||(t[3]=[i(" Editar ",-1)])]),_:1},8,["href"]),e("button",{onClick:le=>c(s),class:"text-red-600 hover:text-red-900"}," Eliminar ",8,re)])]))),128)),u.products.length===0?(l(),f("tr",ie,[...t[4]||(t[4]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-sm text-gray-500"}," No hay productos registrados. ",-1)])])):w("",!0)])])])])])]),m(M,{show:a.value,onClose:h},{title:o(()=>[...t[6]||(t[6]=[i(" Eliminar Producto ",-1)])]),content:o(()=>[...t[7]||(t[7]=[i(" ¿Estás seguro de que deseas eliminar este producto? Esta acción no se puede deshacer. ",-1)])]),footer:o(()=>[m(B,{onClick:h},{default:o(()=>[...t[8]||(t[8]=[i(" Cancelar ",-1)])]),_:1}),m(E,{class:b(["ml-3",{"opacity-25":g(d).processing}]),disabled:g(d).processing,onClick:x},{default:o(()=>[...t[9]||(t[9]=[i(" Eliminar Producto ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{me as default};
