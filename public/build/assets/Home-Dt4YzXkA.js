import{r as y,g as c,i as v,d as l,f as e,E as O,t as r,F as w,h as $,j as T,Q as M,N as k,c as S,s as _,o as F,G as H,l as B,p as U,v as Z,n as C,e as P,b as j,w as N}from"./app-BYhsu56_.js";import{_ as R}from"./GuestLayout-CkBOnskT.js";import{_ as q}from"./AuthenticatedLayout-B6T8qzH8.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./HelpLink-0Gkg05qS.js";const G={key:0,class:"promotional-section mb-8"},Y={class:"flex items-center justify-between mb-6"},K={class:"text-sm text-gray-600 bg-white px-3 py-1 rounded-full border border-gray-200"},J={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},W={class:"absolute top-3 right-3 z-10"},X={class:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg"},ee={class:"relative h-48 overflow-hidden"},te=["src","alt"],re={class:"p-4"},se={class:"mb-2"},oe={class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800 border border-amber-200"},ae={class:"mr-1"},ne={class:"text-lg font-semibold text-gray-800 mb-2 line-clamp-1"},le={class:"text-sm text-gray-600 mb-4 line-clamp-2"},ie={class:"space-y-2"},de={class:"flex items-center space-x-2"},ce={class:"text-sm text-gray-500 line-through"},ue={class:"flex items-baseline justify-between"},me={class:"text-2xl font-bold text-green-600"},pe={class:"text-sm text-green-600 font-medium bg-green-50 px-2 py-1 rounded"},ge={class:"flex items-center justify-between pt-2 border-t border-gray-100"},he={class:"text-xs text-gray-500"},ve=["onClick","disabled"],be={key:0,class:"animate-spin h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},fe={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ye={__name:"PromotionalProducts",props:{products:{type:Array,default:()=>[]}},setup(m){const i=y(null),p=t=>new Intl.NumberFormat("es-PY").format(t),g=async t=>{if(!M().props.auth.user){window.location.href="/login?message=Por favor inicia sesión para agregar productos en promoción al carrito";return}if(M().props.auth.user.is_admin){alert("Los administradores no pueden agregar productos al carrito");return}try{i.value=t.id,await k.post("/cart/add",{product_id:t.id,quantity:1},{preserveScroll:!0,onSuccess:()=>{k.reload({only:["cartCount"]})},onError:()=>{console.error("Error al agregar al carrito")},onFinish:()=>{i.value=null}})}catch(s){console.error("Error adding to cart:",s),i.value=null}};return(t,s)=>m.products.length>0?(l(),c("section",G,[e("div",Y,[s[0]||(s[0]=O('<div class="flex items-center space-x-3" data-v-f347f3bf><div class="bg-gradient-to-r from-red-500 to-orange-500 p-2 rounded-full" data-v-f347f3bf><svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-f347f3bf><path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd" data-v-f347f3bf></path></svg></div><h2 class="text-2xl font-bold text-gray-800" data-v-f347f3bf>Ofertas Especiales</h2></div>',1)),e("span",K,r(m.products.length)+" oferta"+r(m.products.length!==1?"s":"")+" activa"+r(m.products.length!==1?"s":""),1)]),e("div",J,[(l(!0),c(w,null,$(m.products,d=>{var h,u;return l(),c("div",{key:d.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 border border-gray-200 relative"},[e("div",W,[e("span",X,r(d.discount_percentage)+"% OFF ",1)]),e("div",ee,[e("img",{src:d.image_url,alt:d.name,class:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"},null,8,te),s[1]||(s[1]=e("div",{class:"absolute inset-0 bg-black bg-opacity-10"},null,-1))]),e("div",re,[e("div",se,[e("span",oe,[e("span",ae,r(((h=d.category_relation)==null?void 0:h.emoji)||"📦"),1),T(" "+r(((u=d.category_relation)==null?void 0:u.name)||"Sin categoría"),1)])]),e("h3",ne,r(d.name),1),e("p",le,r(d.description),1),e("div",ie,[e("div",de,[e("span",ce," ₲ "+r(p(d.price)),1)]),e("div",ue,[e("span",me," ₲ "+r(p(d.promotional_price)),1),e("span",pe," Ahorras ₲ "+r(p(d.savings_amount)),1)]),e("div",ge,[e("span",he," Stock: "+r(d.stock),1),e("button",{onClick:x=>g(d),disabled:i.value===d.id||d.stock===0,class:"bg-amber-600 hover:bg-amber-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center space-x-1"},[i.value===d.id?(l(),c("svg",be,[...s[2]||(s[2]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),c("svg",fe,[...s[3]||(s[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},null,-1)])])),e("span",null,r(i.value===d.id?"Agregando...":"Agregar"),1)],8,ve)])])])])}),128))])])):v("",!0)}},xe=Q(ye,[["__scopeId","data-v-f347f3bf"]]),_e={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},we={class:"p-6"},$e={class:"mb-6"},ke={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Se={class:"flex flex-col sm:flex-row gap-3"},Ce={class:"relative"},Pe={class:"mt-6"},Ae={class:"flex flex-wrap gap-2"},Me=["onClick","title"],Be={class:"text-base mr-2"},je={class:"font-medium"},Ne={key:0,class:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg"},Ee={class:"text-amber-800 text-sm"},Oe={key:0,class:"font-semibold"},Te={key:1,class:"font-semibold ml-2"},Ve={key:2,class:"font-semibold ml-2"},De={key:0,class:"mb-8"},ze={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ie={class:"aspect-w-16 aspect-h-9 bg-gray-200 rounded-t-lg overflow-hidden"},Le=["src","alt","onError"],Fe={class:"p-4"},He={class:"text-lg font-semibold text-gray-900 mb-2"},Ue={class:"text-md text-gray-600 mb-3 line-clamp-2"},Ze={key:0,class:"mb-3"},Re={class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 border bg-amber-50 text-amber-800 border-amber-200 hover:bg-amber-100"},qe={class:"text-base mr-2"},Qe={class:"font-medium"},Ge={class:"flex items-center justify-between mb-4"},Ye={class:"text-2xl font-bold text-amber-600"},Ke={class:"text-sm text-gray-500"},Je=["onClick","disabled"],We={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Xe={key:1},et={key:2},tt={key:3},rt={key:2,class:"text-center py-8"},st={key:0,class:"text-gray-600"},ot={key:1,class:"text-gray-600"},E={__name:"ProductList",props:{products:{type:Array,required:!0,default:()=>[]},promotionalProducts:{type:Array,default:()=>[]},categories:{type:Array,required:!0,default:()=>[]},currentCategory:{type:Number,default:null},currentSearch:{type:String,default:""},currentSort:{type:String,default:"name"}},setup(m){const i=m;console.log("🔍 DEBUG - PROPS RECIBIDAS:",{productsCount:i.products.length,currentCategory:i.currentCategory,currentSearch:i.currentSearch,currentSort:i.currentSort});const p=y(i.currentSearch||""),g=y(i.currentSort||"name"),t=y(i.currentCategory?parseInt(i.currentCategory):null),s=y(!1);let d=null;const h=S(()=>{if(!t.value)return"";const a=i.categories.find(o=>o.id===t.value);return a?a.name:""});_(()=>i.currentSearch,a=>{console.log("🔄 Sincronizando searchQuery:",a),p.value=a||""},{immediate:!0}),_(()=>i.currentSort,a=>{console.log("🔄 Sincronizando sortBy:",a),g.value=a||"name"},{immediate:!0}),_(()=>i.currentCategory,a=>{console.log("🔄 Sincronizando currentCategory:",a),t.value=a?parseInt(a):null},{immediate:!0}),_(()=>i.products,a=>{console.log("🔍 DEBUG - PRODUCTOS ACTUALIZADOS:",a.length)},{deep:!0}),F(()=>{console.log("🔍 PRODUCTLIST MOUNTED - PROPS:",{productsCount:i.products.length,currentCategory:i.currentCategory,currentSearch:i.currentSearch,currentSort:i.currentSort})}),console.log("🎯 VALORES INICIALES:",{searchQuery:p.value,sortBy:g.value,currentCategory:t.value});const u=y(null),x=()=>{b()},b=()=>{d&&clearTimeout(d),s.value=!0,d=setTimeout(()=>{const a=new URLSearchParams;t.value&&a.set("category",t.value);const o=p.value.trim();o&&a.set("search",o),g.value&&g.value!=="name"&&a.set("sort",g.value);const n=a.toString(),f=n?`/home?${n}`:"/home";console.log("Navegando a:",f),window.location.href=f},300)},A=a=>{console.log("🎯 Categoría clickeada:",a),t.value=a===t.value?null:a,b()},V=a=>{switch(a){case"name":return"A-Z";case"name_desc":return"Z-A";case"price":return"Precio Mayor";case"price_desc":return"Precio Menor";case"stock":return"Stock Mayor";default:return a}},D=async a=>{try{u.value=a,await k.post("/cart/add",{product_id:a,quantity:1},{preserveScroll:!0,onSuccess:()=>{k.reload({only:["cartCount"]})},onError:()=>{console.error("Error al agregar al carrito")},onFinish:()=>{u.value=null}})}catch(o){console.error("Error adding to cart:",o),u.value=null}},z=(a,o)=>{a.target.onerror=null,a.target.src="/images/placeholder.jpg",o&&(o.image_url="/images/placeholder.jpg")},I=S(()=>{const a=i.promotionalProducts.map(o=>o.id);return i.products.filter(o=>!a.includes(o.id))}),L=S(()=>i.promotionalProducts&&i.promotionalProducts.length>0);return H(()=>{d&&clearTimeout(d)}),(a,o)=>(l(),c("div",_e,[e("div",we,[e("div",$e,[e("div",ke,[o[5]||(o[5]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Nuestros Productos",-1)),e("div",Se,[e("div",Ce,[B(e("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>p.value=n),onInput:x,type:"text",placeholder:"Buscar producto...",class:"w-full sm:w-48 border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 pl-10 py-2"},null,544),[[U,p.value]]),o[3]||(o[3]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),B(e("select",{"onUpdate:modelValue":o[1]||(o[1]=n=>g.value=n),onChange:b,class:"border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500 py-2"},[...o[4]||(o[4]=[O('<option value="name">Orden: A-Z</option><option value="name_desc">Orden: Z-A</option><option value="price">Precio: ↑</option><option value="price_desc">Precio: ↓</option><option value="stock">Stock: ↑</option>',5)])],544),[[Z,g.value]])])]),e("div",Pe,[e("div",Ae,[e("button",{onClick:o[2]||(o[2]=n=>A(null)),class:C(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 flex items-center border",t.value?"bg-white text-gray-700 border-gray-200 hover:bg-gray-50":"bg-amber-600 text-white border-amber-700 shadow-md"])},[...o[6]||(o[6]=[e("span",{class:"text-base mr-2"},"☕",-1),e("span",{class:"font-medium"},"Todos los productos",-1)])],2),(l(!0),c(w,null,$(m.categories,n=>(l(),c("button",{key:n.id,onClick:f=>A(n.id),class:C(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 flex items-center border",t.value===n.id?"bg-amber-600 text-white border-amber-700 shadow-md":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"]),title:n.name},[e("span",Be,r(n.emoji||"📦"),1),e("span",je,r(n.name),1)],10,Me))),128))])]),(h.value||p.value||g.value!=="name")&&m.products.length>0?(l(),c("div",Ne,[e("p",Ee,[o[7]||(o[7]=T(" Filtros activos: ",-1)),h.value?(l(),c("span",Oe,"Categoría: "+r(h.value),1)):v("",!0),p.value?(l(),c("span",Te,'Búsqueda: "'+r(p.value)+'"',1)):v("",!0),g.value!=="name"?(l(),c("span",Ve,"Orden: "+r(V(g.value)),1)):v("",!0),o[8]||(o[8]=e("a",{href:"/home",class:"ml-2 text-amber-600 hover:text-amber-800 text-xs"},"(Limpiar filtros)",-1))])])):v("",!0)]),L.value?(l(),c("div",De,[P(xe,{products:m.promotionalProducts},null,8,["products"])])):v("",!0),m.products.length>0?(l(),c("div",ze,[(l(!0),c(w,null,$(I.value,n=>(l(),c("div",{key:n.id,class:"bg-white border border-gray-200 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300"},[e("div",Ie,[e("img",{src:n.image_url||"/images/placeholder.jpg",alt:n.name,class:"w-full h-48 object-cover rounded-t-lg",onError:f=>z(f,n)},null,40,Le)]),e("div",Fe,[e("h3",He,r(n.name),1),e("p",Ue,r(n.description),1),n.category_relation?(l(),c("div",Ze,[e("span",Re,[e("span",qe,r(n.category_relation.emoji||"📦"),1),e("span",Qe,r(n.category_relation.name||"Sin categoría"),1)])])):v("",!0),e("div",Ge,[e("span",Ye,"₲ "+r(Number(n.price||0).toLocaleString("es-PY",{maximumFractionDigits:0})),1),e("span",Ke,"Stock: "+r(n.stock),1)]),e("button",{onClick:f=>D(n.id),disabled:u.value===n.id||n.stock===0,class:"w-full bg-amber-600 hover:bg-amber-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2"},[u.value===n.id?(l(),c("svg",We,[...o[9]||(o[9]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):v("",!0),u.value===n.id?(l(),c("span",Xe,"Agregando...")):n.stock===0?(l(),c("span",et,"Sin Stock")):(l(),c("span",tt,"Agregar al Carrito"))],8,Je)])]))),128))])):(l(),c("div",rt,[o[10]||(o[10]=e("div",{class:"text-gray-400 mb-4"},[e("svg",{class:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})])],-1)),h.value||p.value?(l(),c("p",st," No hay productos disponibles con los filtros aplicados. ")):(l(),c("p",ot," No hay productos disponibles en este momento. ")),o[11]||(o[11]=e("a",{href:"/home",class:"text-amber-600 hover:text-amber-700 text-sm font-medium mt-2 inline-block"}," Ver todos los productos ",-1))]))])]))}},at={class:"py-6"},nt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},lt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-8"},it={class:"p-6 text-gray-900"},dt={class:"text-lg text-gray-600 mb-6"},ct={class:"flex items-center space-x-4"},ut={href:"/cart",class:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2"},mt={class:"mt-8"},pt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},gt={class:"p-6"},ht={key:0,class:"space-y-3"},vt={class:"flex justify-between items-start"},bt={class:"font-medium text-gray-900"},ft={class:"text-sm text-gray-600"},yt={class:"text-sm text-gray-600"},xt={class:"text-right"},_t={class:"text-sm font-medium text-gray-900 mt-1"},wt={key:1,class:"text-center py-8"},$t={key:0,class:"fixed top-0 right-0 bg-blue-100 p-3 text-xs z-50 max-w-md"},kt={class:"py-12"},St={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ct={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-8"},Pt={class:"p-6 text-gray-900"},At={class:"flex items-center space-x-4"},Mt={href:"/cart",class:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2"},Tt={__name:"Home",props:{products:{type:Array,required:!0,default:()=>[]},promotionalProducts:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},cartCount:{type:Number,default:0},recentOrders:{type:Array,default:()=>[]},currentCategory:{type:[String,Number],default:null},currentSearch:{type:String,default:""},currentSort:{type:String,default:"name"}},setup(m){const i=t=>t?new Date(t).toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"",p=t=>{switch(t){case"pending":return"bg-amber-100 text-amber-800";case"paid":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=t=>{switch(t){case"pending":return"Pendiente";case"paid":return"Pagado";case"cancelled":return"Cancelado";default:return t}};return(t,s)=>t.$page.props.auth.user?(l(),j(q,{key:0},{default:N(()=>{var d,h;return[e("div",at,[e("div",nt,[e("div",lt,[e("div",it,[s[4]||(s[4]=e("h1",{class:"text-3xl font-bold text-gray-900 mb-4"}," ☕ Bienvenido de vuelta ",-1)),e("p",dt," ¡Qué bueno verte de nuevo, "+r(t.$page.props.auth.user.name)+"! ",1),e("div",ct,[e("a",ut,[s[0]||(s[0]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})],-1)),e("span",null,"Ver Carrito ("+r(t.$page.props.cartCount||0)+")",1)]),s[1]||(s[1]=e("a",{href:"/orders",class:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"size-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})]),e("span",null,"Mis Pedidos")],-1))]),e("div",mt,[e("div",pt,[e("div",gt,[s[3]||(s[3]=e("div",{class:"flex justify-between items-center mb-4"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Mis Últimos Pedidos"),e("a",{href:"/orders",class:"text-amber-600 hover:text-amber-700 text-sm font-medium"}," Ver todos → ")],-1)),m.recentOrders&&m.recentOrders.length>0?(l(),c("div",ht,[(l(!0),c(w,null,$(m.recentOrders.slice(0,2),u=>{var x,b;return l(),c("div",{key:u.id,class:"p-4 border border-gray-200 rounded-lg"},[e("div",vt,[e("div",null,[e("h3",bt,"Pedido #"+r(u.id),1),e("p",ft,r(i(u.created_at)),1),e("p",yt,r(((x=u.orderItems)==null?void 0:x.length)||0)+" producto"+r(((b=u.orderItems)==null?void 0:b.length)!==1?"s":""),1)]),e("div",xt,[e("span",{class:C([p(u.status),"px-2 py-1 rounded-full text-xs font-medium"])},r(g(u.status)),3),e("p",_t," ₲ "+r(Number(u.total||0).toLocaleString("es-PY",{maximumFractionDigits:0})),1)])])])}),128))])):(l(),c("div",wt,[...s[2]||(s[2]=[e("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),e("p",{class:"text-gray-500"},"Aún no has hecho ningún pedido",-1),e("a",{href:"/home",class:"text-amber-600 hover:text-amber-700 text-sm font-medium mt-2 inline-block"}," ¡Haz tu primer pedido! → ",-1)])]))])])])])]),P(E,{products:t.$page.props.products,"promotional-products":t.$page.props.promotionalProducts,categories:t.$page.props.categories,"current-category":t.$page.props.currentCategory,"current-search":((d=t.$page.props.filters)==null?void 0:d.search)||"","current-sort":((h=t.$page.props.filters)==null?void 0:h.sort)||"name",currentSearch:t.$page.props.currentSearch,currentSort:t.$page.props.currentSort},null,8,["products","promotional-products","categories","current-category","current-search","current-sort","currentSearch","currentSort"])])]),t.$page.props.debug?(l(),c("div",$t,[s[5]||(s[5]=e("div",{class:"font-bold"},"🔍 DEBUG BACKEND",-1)),s[6]||(s[6]=e("div",null,[e("strong",null,"Parámetros recibidos:")],-1)),e("div",null,'Search: "'+r(t.$page.props.debug.params.search_param)+'"',1),e("div",null,"Sort: "+r(t.$page.props.debug.params.sort_param),1),e("div",null,"Category: "+r(t.$page.props.debug.params.category_param),1),s[7]||(s[7]=e("div",{class:"mt-2"},[e("strong",null,"Valores procesados:")],-1)),e("div",null,'Search: "'+r(t.$page.props.debug.processed.search_var)+'"',1),e("div",null,"Sort: "+r(t.$page.props.debug.processed.sort_var),1),e("div",null,"Category: "+r(t.$page.props.debug.processed.category_var),1),s[8]||(s[8]=e("div",{class:"mt-2"},[e("strong",null,"Resultados:")],-1)),e("div",null,"Productos: "+r(t.$page.props.debug.results.products_count),1)])):v("",!0)]}),_:1})):(l(),j(R,{key:1},{default:N(()=>{var d,h;return[e("div",kt,[e("div",St,[e("div",Ct,[e("div",Pt,[s[10]||(s[10]=e("h1",{class:"text-3xl font-bold text-amber-600 mb-4"}," ☕ Nuestra Cafetería ",-1)),s[11]||(s[11]=e("p",{class:"text-lg text-gray-600 mb-6"}," Descubre nuestros deliciosos productos de café, pasteles y más. ",-1)),e("div",At,[e("a",Mt,[s[9]||(s[9]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})],-1)),e("span",null,"Ver Carrito ("+r(t.$page.props.cartCount||0)+")",1)])])])]),P(E,{products:t.$page.props.products,"promotional-products":t.$page.props.promotionalProducts,categories:t.$page.props.categories,"current-category":t.$page.props.currentCategory,"current-search":((d=t.$page.props.filters)==null?void 0:d.search)||"","current-sort":((h=t.$page.props.filters)==null?void 0:h.sort)||"name",currentSearch:t.$page.props.currentSearch,currentSort:t.$page.props.currentSort},null,8,["products","promotional-products","categories","current-category","current-search","current-sort","currentSearch","currentSort"])])])]}),_:1}))}};export{Tt as default};
