import{r,c as _,b as E,d,w as S,f as t,g,i as $,t as l,l as a,p as k,v as h,j as O,m as C,F as N,h as D,n as B}from"./app-BYhsu56_.js";import{_ as I}from"./AuthenticatedLayout-B6T8qzH8.js";import"./HelpLink-0Gkg05qS.js";const Q={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},G={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},J={class:"p-6"},K={class:"flex items-center"},W={class:"ml-4"},X={class:"text-2xl font-semibold text-gray-900"},Y={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"p-6"},tt={class:"flex items-center"},et={class:"ml-4"},st={class:"text-2xl font-semibold text-gray-900"},ot={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},lt={class:"p-6"},rt={class:"flex items-center"},at={class:"ml-4"},nt={class:"text-2xl font-semibold text-gray-900"},it={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},dt={class:"p-6"},ut={class:"flex items-center"},ct={class:"ml-4"},mt={class:"text-2xl font-semibold text-gray-900"},vt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},gt={class:"p-6"},xt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},pt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},bt={class:"p-6"},ft={class:"flex justify-between items-center mb-6"},kt={class:"overflow-x-auto"},ht={class:"min-w-full divide-y divide-gray-200"},yt={class:"bg-gray-50"},wt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},_t={class:"bg-white divide-y divide-gray-200"},St={class:"px-6 py-4 whitespace-nowrap"},Ct=["value"],Bt={class:"px-6 py-4 whitespace-nowrap"},Mt={class:"flex items-center"},jt={class:"flex-shrink-0 h-10 w-10"},Vt=["src","alt"],At={key:1,class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},zt={class:"ml-4"},Pt={class:"text-sm font-medium text-gray-900"},Lt={class:"text-sm text-gray-500"},Ut={class:"px-6 py-4 whitespace-nowrap"},Tt={class:"px-6 py-4 whitespace-nowrap"},Ft={class:"flex items-center"},Ht=["onUpdate:modelValue"],Et=["onClick"],$t={class:"px-6 py-4 whitespace-nowrap"},Ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Nt={class:"flex space-x-2"},Dt=["onClick"],It=["onClick"],Qt={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Rt={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 shadow-lg rounded-md bg-white"},qt={class:"mt-3"},Gt={class:"flex justify-between items-center mb-4"},Jt={class:"space-y-4"},Kt={class:"text-sm text-gray-600"},Wt={class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200"},te={__name:"StockManagement",props:{products:Array},setup(M){const y=M,u=r(""),c=r(""),m=r(""),n=r([]),x=r(!1),v=r(!1),b=r("set"),f=r(0),p=_(()=>{const s=y.products||[];return{total:s.length,inStock:s.filter(e=>e.stock>10).length,lowStock:s.filter(e=>e.stock>0&&e.stock<=10).length,outOfStock:s.filter(e=>e.stock===0).length}}),w=_(()=>{let s=y.products||[];if(u.value&&(s=s.filter(e=>e.name.toLowerCase().includes(u.value.toLowerCase()))),c.value)switch(c.value){case"inStock":s=s.filter(e=>e.stock>10);break;case"lowStock":s=s.filter(e=>e.stock>0&&e.stock<=10);break;case"outOfStock":s=s.filter(e=>e.stock===0);break}return m.value&&(s=s.filter(e=>e.category===m.value)),s}),j=s=>({bebidas_calientes:"Bebidas Calientes",bebidas_frias:"Bebidas Frías",tes_infusiones:"Tés e Infusiones",chocolates:"Chocolates",pasteleria:"Pastelería",tortas_postres:"Tortas y Postres",salados:"Salados",otros:"Otros"})[s]||s,V=s=>({bebidas_calientes:"bg-red-100 text-red-800",bebidas_frias:"bg-blue-100 text-blue-800",tes_infusiones:"bg-green-100 text-green-800",chocolates:"bg-amber-100 text-amber-800",pasteleria:"bg-purple-100 text-purple-800",tortas_postres:"bg-amber-100 text-amber-800",salados:"bg-orange-100 text-orange-800",otros:"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",A=s=>s===0?"Sin Stock":s<=10?"Stock Bajo":"En Stock",z=s=>s===0?"bg-red-100 text-red-800":s<=10?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800",P=()=>{x.value?n.value=w.value.map(s=>s.id):n.value=[]},L=()=>{u.value="",c.value="",m.value="",n.value=[],x.value=!1},U=s=>{console.log("Actualizar stock:",s)},T=s=>{console.log("Historial de stock:",s)},F=s=>{console.log("Reabastecer producto:",s)},H=()=>{console.log("Actualización masiva:",{products:n.value,action:b.value,quantity:f.value}),v.value=!1};return(s,e)=>(d(),E(I,null,{pageHeader:S(()=>[...e[10]||(e[10]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Gestión de Stock ",-1)])]),default:S(()=>[t("div",Q,[t("div",R,[t("div",q,[t("div",G,[t("div",J,[t("div",K,[e[12]||(e[12]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",W,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-gray-500"},"Productos en Stock",-1)),t("p",X,l(p.value.inStock),1)])])])]),t("div",Y,[t("div",Z,[t("div",tt,[e[14]||(e[14]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-8 w-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t("div",et,[e[13]||(e[13]=t("p",{class:"text-sm font-medium text-gray-500"},"Stock Bajo",-1)),t("p",st,l(p.value.lowStock),1)])])])]),t("div",ot,[t("div",lt,[t("div",rt,[e[16]||(e[16]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",at,[e[15]||(e[15]=t("p",{class:"text-sm font-medium text-gray-500"},"Sin Stock",-1)),t("p",nt,l(p.value.outOfStock),1)])])])]),t("div",it,[t("div",dt,[t("div",ut,[e[18]||(e[18]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),t("div",ct,[e[17]||(e[17]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Productos",-1)),t("p",mt,l(p.value.total),1)])])])])]),t("div",vt,[t("div",gt,[t("div",xt,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Buscar Producto",-1)),a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>u.value=o),type:"text",placeholder:"Nombre del producto...",class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500"},null,512),[[k,u.value]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Estado de Stock",-1)),a(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500"},[...e[20]||(e[20]=[t("option",{value:""},"Todos",-1),t("option",{value:"inStock"},"En Stock",-1),t("option",{value:"lowStock"},"Stock Bajo",-1),t("option",{value:"outOfStock"},"Sin Stock",-1)])],512),[[h,c.value]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Categoría",-1)),a(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>m.value=o),class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500"},[...e[22]||(e[22]=[t("option",{value:""},"Todas las categorías",-1),t("option",{value:"bebidas_calientes"},"Bebidas Calientes",-1),t("option",{value:"bebidas_frias"},"Bebidas Frías",-1),t("option",{value:"tes_infusiones"},"Tés e Infusiones",-1),t("option",{value:"chocolates"},"Chocolates",-1),t("option",{value:"pasteleria"},"Pastelería",-1),t("option",{value:"tortas_postres"},"Tortas y Postres",-1),t("option",{value:"salados"},"Salados",-1),t("option",{value:"otros"},"Otros",-1)])],512),[[h,m.value]])]),t("div",{class:"flex items-end"},[t("button",{onClick:L,class:"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-md"}," Limpiar Filtros ")])])])]),t("div",pt,[t("div",bt,[t("div",ft,[e[25]||(e[25]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Productos",-1)),t("button",{onClick:e[3]||(e[3]=o=>v.value=!0),class:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg"},[...e[24]||(e[24]=[t("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),O(" Actualización Masiva ",-1)])])]),t("div",kt,[t("table",ht,[t("thead",yt,[t("tr",null,[t("th",wt,[a(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=o=>x.value=o),onChange:P,class:"rounded border-gray-300 text-amber-600 focus:ring-amber-500"},null,544),[[C,x.value]])]),e[26]||(e[26]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Producto",-1)),e[27]||(e[27]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Categoría",-1)),e[28]||(e[28]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Stock Actual",-1)),e[29]||(e[29]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Estado",-1)),e[30]||(e[30]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Acciones",-1))])]),t("tbody",_t,[(d(!0),g(N,null,D(w.value,o=>(d(),g("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",St,[a(t("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=i=>n.value=i),value:o.id,class:"rounded border-gray-300 text-amber-600 focus:ring-amber-500"},null,8,Ct),[[C,n.value]])]),t("td",Bt,[t("div",Mt,[t("div",jt,[o.image_url?(d(),g("img",{key:0,src:o.image_url,alt:o.name,class:"h-10 w-10 rounded-full object-cover"},null,8,Vt)):(d(),g("div",At,[...e[31]||(e[31]=[t("svg",{class:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))]),t("div",zt,[t("div",Pt,l(o.name),1),t("div",Lt,"₲"+l(o.price.toLocaleString()),1)])])]),t("td",Ut,[t("span",{class:B(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",V(o.category)])},l(j(o.category)),3)]),t("td",Tt,[t("div",Ft,[a(t("input",{"onUpdate:modelValue":i=>o.stock=i,type:"number",min:"0",class:"w-20 border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500 text-center"},null,8,Ht),[[k,o.stock,void 0,{number:!0}]]),t("button",{onClick:i=>U(o),class:"ml-2 text-amber-600 hover:text-amber-900"},[...e[32]||(e[32]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,Et)])]),t("td",$t,[t("span",{class:B(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",z(o.stock)])},l(A(o.stock)),3)]),t("td",Ot,[t("div",Nt,[t("button",{onClick:i=>T(o),class:"text-blue-600 hover:text-blue-900"},[...e[33]||(e[33]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)])],8,Dt),t("button",{onClick:i=>F(o),class:"text-green-600 hover:text-green-900"},[...e[34]||(e[34]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,It)])])]))),128))])])])])])])]),v.value?(d(),g("div",Qt,[t("div",Rt,[t("div",qt,[t("div",Gt,[e[36]||(e[36]=t("h3",{class:"text-lg font-medium text-gray-900"},"Actualización Masiva de Stock",-1)),t("button",{onClick:e[6]||(e[6]=o=>v.value=!1),class:"text-gray-400 hover:text-gray-600"},[...e[35]||(e[35]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Jt,[t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Productos Seleccionados",-1)),t("p",Kt,l(n.value.length)+" productos seleccionados",1)]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Acción",-1)),a(t("select",{"onUpdate:modelValue":e[7]||(e[7]=o=>b.value=o),class:"w-full border-gray-300 rounded-md focus:ring-rose-500 focus:border-rose-500"},[...e[38]||(e[38]=[t("option",{value:"set"},"Establecer stock",-1),t("option",{value:"add"},"Agregar stock",-1),t("option",{value:"subtract"},"Restar stock",-1)])],512),[[h,b.value]])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cantidad",-1)),a(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>f.value=o),type:"number",min:"0",class:"w-full border-gray-300 rounded-md focus:ring-rose-500 focus:border-rose-500"},null,512),[[k,f.value,void 0,{number:!0}]])])]),t("div",Wt,[t("button",{onClick:e[9]||(e[9]=o=>v.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancelar "),t("button",{onClick:H,class:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-md"}," Ejecutar Actualización ")])])])])):$("",!0)]),_:1}))}};export{te as default};
