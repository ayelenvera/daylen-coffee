import{Q as ae,c as y,a as ne,r as _,o as le,b as ie,d as l,w as de,f as t,k as ce,g as i,i as g,l as m,p as f,v as $,n as P,D as R,t as n,j as N,F as ue,h as pe,C as me,N as ge}from"./app-BYhsu56_.js";import{_ as be}from"./GuestLayout-CkBOnskT.js";import{_ as ve}from"./AuthenticatedLayout-B6T8qzH8.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./HelpLink-0Gkg05qS.js";const xe={class:"py-12"},ye={class:"max-w-6xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 lg:grid-cols-3 gap-8"},_e={class:"lg:col-span-2"},he={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ke={class:"p-6"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ae={class:"flex"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={key:0,class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},je={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pe={class:"grid grid-cols-2 gap-4 mt-4"},Ne={class:"mt-4 p-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg text-white"},Be={class:"flex justify-between items-center"},Ee={class:"text-sm"},Me={class:"mt-2 text-lg font-mono"},Te={class:"flex justify-between items-center mt-2 text-sm"},Ve={class:"space-y-4"},Oe={class:"relative"},Se=["disabled"],Ie={key:0,class:"animate-spin h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24"},Le={key:1,class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ue={key:0,class:"flex items-center text-sm text-green-600 bg-green-50 p-2 rounded-md"},$e={class:"pt-4 border-t border-gray-200"},Re=["disabled"],De={key:0,class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},qe={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Fe={class:"text-lg"},He={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg sticky top-6"},Ye={class:"p-6"},Ke={key:0,class:"text-gray-500 text-center py-8"},We={key:1},Ge={class:"space-y-4 mb-6"},Je={class:"flex justify-between items-start mb-2"},Qe={class:"flex-1"},Xe={class:"font-medium text-gray-900"},Ze={class:"text-sm text-gray-600"},et={key:0,class:"mt-2 space-y-1"},tt={key:0,class:"flex justify-between text-xs"},st={class:"text-gray-700"},ot={key:1,class:"flex justify-between text-xs"},rt={class:"text-gray-700"},at={key:2,class:"flex justify-between text-xs"},nt={class:"text-gray-700"},lt={key:3,class:"flex justify-between text-xs"},it={class:"text-gray-700"},dt={class:"text-right"},ct={class:"font-semibold text-gray-900"},ut={class:"text-xs text-gray-500"},pt={class:"space-y-3 text-sm"},mt={class:"flex justify-between"},gt={class:"font-medium"},bt={key:0,class:"flex justify-between"},vt={class:"font-medium text-amber-600"},ft={class:"flex justify-between"},xt={class:"border-t border-gray-200 pt-3"},yt={class:"flex justify-between items-center"},_t={class:"text-lg font-bold text-amber-600"},ht={class:"mt-4 p-3 bg-gray-50 rounded-lg"},kt={class:"flex justify-between items-center text-sm"},wt={class:"font-medium capitalize"},At={key:0,class:"flex justify-between items-center text-sm mt-1"},zt={class:"font-medium"},Ct={__name:"CheckoutForm",props:{cart:{type:Object,default:()=>({items:{},total:0,item_count:0})}},setup(D){var L,U;const q=D,B=ae(),F=y(()=>{var s;return(s=B.props.auth)!=null&&s.user?ve:be}),z=y(()=>q.cart||{items:{},total:0,item_count:0}),h=y(()=>Object.values(z.value.items||{})),r=ne({customer_name:((U=(L=B.props.auth)==null?void 0:L.user)==null?void 0:U.name)||"",phone_code:"+595",phone_number:"",address:"",payment_method:"efectivo",notes:"",card_issuer:"",card_number:"",card_expiration:"",card_cvc:""}),k=_(!1),v=_(!1),E=_(null),u=_({}),x=_(0),w=_({}),H=async()=>{const s={};for(const e of h.value)try{const o=await fetch(`/api/products/${e.id}/customization-rules`);if(o.ok){const a=await o.json(),d=Y(a,e.id);s[e.id]=d,console.log(`✅ Reglas cargadas para producto ${e.id}:`,d)}else console.warn(`⚠️ No se pudieron cargar reglas para producto ${e.id}`),s[e.id]=M()}catch(o){console.error(`❌ Error cargando reglas para producto ${e.id}:`,o),s[e.id]=M()}w.value=s},Y=(s,e)=>{if(!s||!s.enabled_options)return s;const o={};return o[e]&&(s.enabled_options=s.enabled_options.filter(a=>!o[e].includes(a))),s},M=()=>({enabled_options:["quantity"],size_options:[],sugar_options:[],topping_options:[],addon_options:[]}),T=(s,e)=>{var d;const a=(((d=w.value[s])==null?void 0:d.size_options)||[]).find(p=>p.name===e);return(a==null?void 0:a.price)||0},V=(s,e)=>{var a;if(!Array.isArray(e)||e.length===0)return 0;const o=((a=w.value[s])==null?void 0:a.topping_options)||[];return e.reduce((d,p)=>{const b=o.find(j=>j.name===p);return d+((b==null?void 0:b.price)||0)},0)},O=(s,e)=>{var a;if(!Array.isArray(e)||e.length===0)return 0;const o=((a=w.value[s])==null?void 0:a.addon_options)||[];return e.reduce((d,p)=>{const b=o.find(j=>j.name===p);return d+((b==null?void 0:b.price)||0)},0)},c=(s,e)=>{var a;const o=w.value[s];return((a=o==null?void 0:o.enabled_options)==null?void 0:a.includes(e))||!1};le(async()=>{const s=sessionStorage.getItem("personalizations"),e=sessionStorage.getItem("shippingCost");if(s)try{u.value=JSON.parse(s),console.log("✅ Personalizaciones cargadas:",u.value)}catch(o){console.error("❌ Error parsing personalizations:",o),u.value={}}e&&(x.value=parseInt(e)||0),await H()});const K=s=>{const e=u.value[s];if(!e)return!1;const o=c(s,"size")&&e.size&&e.size!=="Mediano",a=c(s,"sugar")&&e.sugar&&e.sugar!=="Normal",d=c(s,"toppings")&&Array.isArray(e.toppings)&&e.toppings.length>0,p=c(s,"addons")&&Array.isArray(e.addons)&&e.addons.length>0;return o||a||d||p},A=(s,e)=>{var a;return c(s,e==="toppings"||e==="addons"?e:e==="size"?"size":"sugar")?(a=u.value[s])==null?void 0:a[e]:null},W=s=>{var o;if(!c(s,"toppings"))return!1;const e=(o=u.value[s])==null?void 0:o.toppings;return Array.isArray(e)&&e.length>0},G=s=>{var o;if(!c(s,"addons"))return!1;const e=(o=u.value[s])==null?void 0:o.addons;return Array.isArray(e)&&e.length>0},J=s=>{var o;return(((o=u.value[s])==null?void 0:o.toppings)||[]).join(", ")},Q=s=>{var o;return(((o=u.value[s])==null?void 0:o.addons)||[]).join(", ")},X=s=>{const e=s.price||0,o=u.value[s.id]||{},a=c(s.id,"size")&&T(s.id,o.size)||0,d=c(s.id,"toppings")&&V(s.id,o.toppings)||0,p=c(s.id,"addons")&&O(s.id,o.addons)||0;return(e+a+d+p)*(s.quantity||1)},C=y(()=>{let s=0;return h.value.forEach(e=>{const o=u.value[e.id]||{},a=c(e.id,"size")&&T(e.id,o.size)||0,d=c(e.id,"toppings")&&V(e.id,o.toppings)||0,p=c(e.id,"addons")&&O(e.id,o.addons)||0;s+=(a+d+p)*(e.quantity||1)}),s}),S=y(()=>(z.value.total||0)+C.value+x.value),I=y(()=>{const s=r.customer_name&&r.phone_number&&r.address;return r.payment_method==="tarjeta"?s&&r.card_issuer&&r.card_number&&r.card_expiration&&r.card_cvc:s}),Z=s=>{let e=s.target.value.replace(/\D/g,"");e.length>9&&(e=e.slice(0,9)),e.length>6?e=e.replace(/(\d{3})(\d{3})(\d{0,3})/,"$1 $2 $3"):e.length>3&&(e=e.replace(/(\d{3})(\d{0,3})/,"$1 $2")),r.phone_number=e.trim()},ee=s=>{let e=s.target.value.replace(/\D/g,"");e.length>16&&(e=e.slice(0,16)),e=e.replace(/(\d{4})/g,"$1 ").trim(),e.endsWith(" ")&&(e=e.slice(0,-1)),r.card_number=e},te=s=>{let e=s.target.value.replace(/\D/g,"");e.length>4&&(e=e.slice(0,4)),e.length>=2&&(e=e.replace(/(\d{2})(\d{0,2})/,"$1/$2")),r.card_expiration=e},se=s=>{let e=s.target.value.replace(/\D/g,"");e.length>4&&(e=e.slice(0,4)),r.card_cvc=e},oe=()=>{if(!navigator.geolocation){alert("La geolocalización no está soportada por este navegador.");return}v.value=!0,navigator.geolocation.getCurrentPosition(s=>{const{latitude:e,longitude:o}=s.coords;E.value={latitude:e,longitude:o},fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${o}`).then(a=>a.json()).then(a=>{a.display_name&&(r.address=a.display_name),v.value=!1}).catch(a=>{console.error("Error al obtener dirección:",a),v.value=!1,alert("No se pudo obtener la dirección. Por favor ingrésala manualmente.")})},s=>{console.error("Error de geolocalización:",s),v.value=!1;let e="No se pudo obtener tu ubicación. ";switch(s.code){case s.PERMISSION_DENIED:e+="Permiso denegado para acceder a la ubicación.";break;case s.POSITION_UNAVAILABLE:e+="Información de ubicación no disponible.";break;case s.TIMEOUT:e+="Tiempo de espera agotado.";break;default:e+="Error desconocido.";break}alert(e)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},re=()=>{if(!I.value){alert("Por favor completa todos los campos requeridos.");return}k.value=!0;const s={...r,phone:`${r.phone_code} ${r.phone_number}`.trim(),personalizations:u.value,shipping_cost:x.value,...r.payment_method==="tarjeta"&&{card_issuer:r.card_issuer,card_last_four:r.card_number.replace(/\s/g,"").slice(-4),card_expiration:r.card_expiration}};console.log("Enviando datos al checkout:",s),ge.post("/checkout",s,{onFinish:()=>{k.value=!1},onError:e=>{console.error("Errores en el checkout:",e),alert("Error al procesar el pedido. Por favor verifica los datos.")}})};return(s,e)=>(l(),ie(me(F.value),null,{default:de(()=>[t("div",xe,[t("div",ye,[t("div",_e,[t("div",he,[t("div",ke,[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Datos de entrega",-1)),t("form",{onSubmit:ce(re,["prevent"]),class:"space-y-6"},[t("div",we,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre y Apellido *",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.customer_name=o),type:"text",class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500",required:""},null,512),[[f,r.customer_name]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Teléfono *",-1)),t("div",Ae,[m(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.phone_code=o),class:"w-32 border-gray-300 rounded-l-md focus:ring-amber-500 focus:border-amber-500 border-r-0"},[...e[12]||(e[12]=[t("option",{value:"+595"},"🇵🇾 +595",-1),t("option",{value:"+54"},"🇦🇷 +54",-1),t("option",{value:"+55"},"🇧🇷 +55",-1),t("option",{value:"+56"},"🇨🇱 +56",-1),t("option",{value:"+57"},"🇨🇴 +57",-1),t("option",{value:"+598"},"🇺🇾 +598",-1)])],512),[[$,r.phone_code]]),m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.phone_number=o),type:"tel",placeholder:"987 654 321",class:"flex-1 border-gray-300 rounded-r-md focus:ring-amber-500 focus:border-amber-500",onInput:Z,required:""},null,544),[[f,r.phone_number]])])])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Método de Pago *",-1)),t("div",ze,[t("label",{class:P(["flex items-center p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",{"border-amber-500 bg-amber-50":r.payment_method==="efectivo"}])},[m(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.payment_method=o),type:"radio",value:"efectivo",class:"mr-3"},null,512),[[R,r.payment_method]]),e[14]||(e[14]=t("span",{class:"flex items-center"},[t("svg",{class:"w-6 h-6 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})]),t("div",null,[t("div",{class:"font-medium"},"Efectivo"),t("div",{class:"text-sm text-gray-500"},"Paga al recibir")])],-1))],2),t("label",{class:P(["flex items-center p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",{"border-amber-500 bg-amber-50":r.payment_method==="tarjeta"}])},[m(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>r.payment_method=o),type:"radio",value:"tarjeta",class:"mr-3"},null,512),[[R,r.payment_method]]),e[15]||(e[15]=t("span",{class:"flex items-center"},[t("svg",{class:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),t("div",null,[t("div",{class:"font-medium"},"Tarjeta"),t("div",{class:"text-sm text-gray-500"},"Pago seguro online")])],-1))],2)])]),r.payment_method==="tarjeta"?(l(),i("div",Ce,[e[23]||(e[23]=t("h4",{class:"text-md font-semibold text-gray-800 mb-4"},"Información de Tarjeta",-1)),t("div",je,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Banco Emisor *",-1)),m(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>r.card_issuer=o),class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500",required:""},[...e[17]||(e[17]=[t("option",{value:""},"Selecciona tu banco",-1),t("option",{value:"UENO BANK"},"UENO BANK",-1),t("option",{value:"ITAU"},"ITAU",-1),t("option",{value:"BANCO FAMILIAR"},"BANCO FAMILIAR",-1),t("option",{value:"VISION BANK"},"VISION BANK",-1),t("option",{value:"BANCO CONTINENTAL"},"BANCO CONTINENTAL",-1),t("option",{value:"BANCO BBVA"},"BANCO BBVA",-1)])],512),[[$,r.card_issuer]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Número de Tarjeta *",-1)),m(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r.card_number=o),type:"text",placeholder:"4242 4242 4242 4242",class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500",onInput:ee,maxlength:"19",required:""},null,544),[[f,r.card_number]])])]),t("div",Pe,[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Expiración *",-1)),m(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>r.card_expiration=o),type:"text",placeholder:"MM/AA",class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500",onInput:te,maxlength:"5",required:""},null,544),[[f,r.card_expiration]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"CVC *",-1)),m(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>r.card_cvc=o),type:"text",placeholder:"123",class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500",onInput:se,maxlength:"4",required:""},null,544),[[f,r.card_cvc]])])]),t("div",Ne,[t("div",Be,[t("div",Ee,n(r.card_issuer||"BANCO"),1),e[22]||(e[22]=t("div",{class:"text-sm"},"💳",-1))]),t("div",Me,n(r.card_number||"•••• •••• •••• ••••"),1),t("div",Te,[t("div",null,n(r.card_expiration||"MM/AA"),1),t("div",null,n(r.card_cvc?"•".repeat(r.card_cvc.length):"CVC"),1)])])])):g("",!0),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Dirección de Entrega *",-1)),t("div",Ve,[t("div",Oe,[m(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>r.address=o),type:"text",placeholder:"Ingresa tu dirección completa",class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500 pr-32",required:""},null,512),[[f,r.address]]),t("button",{type:"button",onClick:oe,disabled:v.value,class:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center px-3 py-1 text-xs text-amber-600 hover:text-amber-700 border border-amber-300 rounded-md hover:bg-amber-50 transition-colors"},[v.value?(l(),i("svg",Ie,[...e[24]||(e[24]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),i("svg",Le,[...e[25]||(e[25]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])])),N(" "+n(v.value?"Buscando...":"Ubicación"),1)],8,Se)]),e[27]||(e[27]=t("div",{class:"h-48 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 overflow-hidden flex items-center justify-center"},[t("div",{class:"text-center text-gray-500"},[t("svg",{class:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),t("p",{class:"text-sm font-medium"},"Sistema de ubicación"),t("p",{class:"text-xs mt-1"},'Usa el botón "Ubicación" para autocompletar')])],-1)),E.value?(l(),i("div",Ue,[...e[26]||(e[26]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),N(" Ubicación actual detectada ",-1)])])):g("",!0)])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[N(" Notas para la entrega "),t("span",{class:"text-gray-400 text-xs"},"(Opcional)")],-1)),m(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=o=>r.notes=o),rows:"3",class:"w-full border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500",placeholder:"Indica referencias de entrega, instrucciones especiales, etc."},null,512),[[f,r.notes]])]),t("div",$e,[t("button",{disabled:k.value||!h.value.length||!I.value,type:"submit",class:"w-full bg-amber-600 hover:bg-amber-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold py-4 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center gap-3 shadow-lg"},[k.value?(l(),i("svg",De,[...e[30]||(e[30]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),i("svg",qe,[...e[31]||(e[31]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),t("span",Fe,n(k.value?"Procesando Pago...":`Confirmar Pedido - ₲ ${S.value.toLocaleString("es-PY")}`),1)],8,Re),e[32]||(e[32]=t("p",{class:"text-xs text-gray-500 text-center mt-3"}," Al confirmar, aceptas nuestros términos y condiciones ",-1))])],32)])])]),t("div",null,[t("div",He,[t("div",Ye,[e[45]||(e[45]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Resumen del Pedido",-1)),h.value.length?(l(),i("div",We,[t("div",Ge,[(l(!0),i(ue,null,pe(h.value,o=>(l(),i("div",{key:o.id,class:"border-b border-gray-100 pb-4 last:border-b-0"},[t("div",Je,[t("div",Qe,[t("h4",Xe,n(o.name),1),t("p",Ze,"Cantidad: "+n(o.quantity),1),K(o.id)?(l(),i("div",et,[A(o.id,"size")?(l(),i("div",tt,[e[35]||(e[35]=t("span",{class:"text-gray-500"},"Tamaño:",-1)),t("span",st,n(A(o.id,"size")),1)])):g("",!0),A(o.id,"sugar")?(l(),i("div",ot,[e[36]||(e[36]=t("span",{class:"text-gray-500"},"Azúcar:",-1)),t("span",rt,n(A(o.id,"sugar")),1)])):g("",!0),W(o.id)?(l(),i("div",at,[e[37]||(e[37]=t("span",{class:"text-gray-500"},"Coberturas:",-1)),t("span",nt,n(J(o.id)),1)])):g("",!0),G(o.id)?(l(),i("div",lt,[e[38]||(e[38]=t("span",{class:"text-gray-500"},"Agregados:",-1)),t("span",it,n(Q(o.id)),1)])):g("",!0)])):g("",!0)]),t("div",dt,[t("p",ct," ₲ "+n(X(o).toLocaleString("es-PY")),1),t("p",ut," ₲ "+n((o.price||0).toLocaleString("es-PY"))+" c/u ",1)])])]))),128))]),t("div",pt,[t("div",mt,[e[39]||(e[39]=t("span",{class:"text-gray-600"},"Subtotal productos:",-1)),t("span",gt,"₲ "+n((z.value.total||0).toLocaleString("es-PY")),1)]),C.value>0?(l(),i("div",bt,[e[40]||(e[40]=t("span",{class:"text-gray-600"},"Personalizaciones:",-1)),t("span",vt,"+ ₲ "+n(C.value.toLocaleString("es-PY")),1)])):g("",!0),t("div",ft,[e[41]||(e[41]=t("span",{class:"text-gray-600"},"Envío:",-1)),t("span",{class:P(["font-medium",x.value>0?"text-gray-900":"text-green-600"])},n(x.value>0?`₲ ${x.value.toLocaleString("es-PY")}`:"Gratis"),3)]),t("div",xt,[t("div",yt,[e[42]||(e[42]=t("span",{class:"text-lg font-bold text-gray-900"},"Total:",-1)),t("span",_t," ₲ "+n(S.value.toLocaleString("es-PY")),1)])])]),t("div",ht,[t("div",kt,[e[43]||(e[43]=t("span",{class:"text-gray-600"},"Método de pago:",-1)),t("span",wt,n(r.payment_method==="tarjeta"?"Tarjeta":"Efectivo"),1)]),r.payment_method==="tarjeta"&&r.card_issuer?(l(),i("div",At,[e[44]||(e[44]=t("span",{class:"text-gray-600"},"Banco:",-1)),t("span",zt,n(r.card_issuer),1)])):g("",!0)])])):(l(),i("div",Ke,[...e[34]||(e[34]=[t("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})],-1),t("p",null,"Tu carrito está vacío",-1)])]))])])])])])]),_:1}))}},Mt=fe(Ct,[["__scopeId","data-v-40a7745f"]]);export{Mt as default};
